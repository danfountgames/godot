####################################
#godot-module-mono *BROKEN*
####################################
set(GODOT_MODULE_MONO_SOURCE
        class_db_api_json.cpp
        class_db_api_json.h
        csharp_script.cpp
        csharp_script.h
        editor/editor_internal_calls.h
        editor/hostfxr_resolver.h
        editor/editor_internal_calls.cpp
        editor/bindings_generator.h
        editor/semver.h
        editor/code_completion.cpp
        editor/semver.cpp
        editor/bindings_generator.cpp
        editor/code_completion.h
        editor/hostfxr_resolver.cpp
        godotsharp_defs.h
        godotsharp_dirs.cpp
        godotsharp_dirs.h
        icons/CSharpScript.svg
        interop_types.h
        managed_callable.cpp
        managed_callable.h
        mono_gc_handle.cpp
        mono_gc_handle.h
        mono_gd/android_mono_config.h
        mono_gd/gd_mono.cpp
        # mono_gd/support/ios_support.mm
        # mono_gd/support/android_support.cpp
        # mono_gd/support/android_support.h
        # mono_gd/support/ios_support.h
        mono_gd/gd_mono_cache.h
        mono_gd/gd_mono.h
        mono_gd/gd_mono_cache.cpp
        register_types.cpp
        register_types.h
        signal_awaiter_utils.cpp
        signal_awaiter_utils.h
        thirdparty/hostfxr.h
        thirdparty/coreclr_delegates.h
        utils/path_utils.h
        utils/macros.h
        utils/string_utils.h
        utils/path_utils.cpp
        utils/string_utils.cpp
        utils/naming_utils.cpp
        utils/macos_utils.cpp
        utils/macos_utils.h
        utils/naming_utils.h
        glue/runtime_interop.cpp
        glue/runtime_interop.h
)

set(GODOT_MODULE_MONO_SCRIPT_DOTNET_SDK_CSHARP
        config.py
        build_scripts/__init__.py
        build_scripts/mono_configure.py
        build_scripts/build_assemblies.py
        Directory.Build.props
        Directory.Build.targets
        doc_classes/CSharpScript.xml
        doc_classes/GodotSharp.xml
        editor/GodotTools/GodotTools/ExternalEditorId.cs
        editor/GodotTools/GodotTools/Export/ExportPlugin.cs
        editor/GodotTools/GodotTools/Export/AotBuilder.cs
        editor/GodotTools/GodotTools/Export/XcodeHelper.cs
        editor/GodotTools/GodotTools/GodotSharpEditor.cs
        editor/GodotTools/GodotTools/PlaySettings.cs
        editor/GodotTools/GodotTools/Build/NuGetUtils.cs
        editor/GodotTools/GodotTools/Build/BuildManager.cs
        editor/GodotTools/GodotTools/Build/BuildInfo.cs
        editor/GodotTools/GodotTools/Build/DotNetFinder.cs
        editor/GodotTools/GodotTools/Build/BuildOutputView.cs
        editor/GodotTools/GodotTools/Build/BuildResult.cs
        editor/GodotTools/GodotTools/Build/MSBuildPanel.cs
        editor/GodotTools/GodotTools/Build/BuildSystem.cs
        editor/GodotTools/GodotTools/VerbosityLevelId.cs
        editor/GodotTools/GodotTools/CsProjOperations.cs
        editor/GodotTools/GodotTools/Internals/GodotSharpDirs.cs
        editor/GodotTools/GodotTools/Internals/EditorProgress.cs
        editor/GodotTools/GodotTools/Internals/Globals.cs
        editor/GodotTools/GodotTools/Internals/Internal.cs
        editor/GodotTools/GodotTools/Utils/CollectionExtensions.cs
        editor/GodotTools/GodotTools/Utils/User32Dll.cs
        editor/GodotTools/GodotTools/Utils/FsPathUtils.cs
        editor/GodotTools/GodotTools/Utils/File.cs
        editor/GodotTools/GodotTools/Utils/Directory.cs
        editor/GodotTools/GodotTools/Utils/OS.cs
        editor/GodotTools/GodotTools/HotReloadAssemblyWatcher.cs
        editor/GodotTools/GodotTools/GodotTools.csproj
        editor/GodotTools/GodotTools/Ides/MonoDevelop/Instance.cs
        editor/GodotTools/GodotTools/Ides/MonoDevelop/EditorId.cs
        editor/GodotTools/GodotTools/Ides/GodotIdeManager.cs
        editor/GodotTools/GodotTools/Ides/MessagingServer.cs
        editor/GodotTools/GodotTools/Ides/Rider/RiderPathManager.cs
        editor/GodotTools/GodotTools/Ides/Rider/RiderPathLocator.cs
        editor/GodotTools/GodotTools.BuildLogger/GodotBuildLogger.cs
        editor/GodotTools/GodotTools.BuildLogger/GodotTools.BuildLogger.csproj
        editor/GodotTools/GodotTools.OpenVisualStudio/Program.cs
        editor/GodotTools/GodotTools.OpenVisualStudio/GodotTools.OpenVisualStudio.csproj
        editor/GodotTools/GodotTools.IdeMessaging.CLI/Program.cs
        editor/GodotTools/GodotTools.IdeMessaging.CLI/ForwarderMessageHandler.cs
        editor/GodotTools/GodotTools.IdeMessaging.CLI/GodotTools.IdeMessaging.CLI.csproj
        editor/GodotTools/GodotTools.sln
        editor/GodotTools/GodotTools.ProjectEditor/ProjectUtils.cs
        editor/GodotTools/GodotTools.ProjectEditor/IdentifierUtils.cs
        editor/GodotTools/GodotTools.ProjectEditor/ApiAssembliesInfo.cs
        editor/GodotTools/GodotTools.ProjectEditor/ProjectGenerator.cs
        editor/GodotTools/GodotTools.ProjectEditor/DotNetSolution.cs
        editor/GodotTools/GodotTools.ProjectEditor/GodotTools.ProjectEditor.csproj
        editor/GodotTools/GodotTools.IdeMessaging/Message.cs
        editor/GodotTools/GodotTools.IdeMessaging/ILogger.cs
        editor/GodotTools/GodotTools.IdeMessaging/ClientHandshake.cs
        editor/GodotTools/GodotTools.IdeMessaging/Peer.cs
        editor/GodotTools/GodotTools.IdeMessaging/MessageDecoder.cs
        editor/GodotTools/GodotTools.IdeMessaging/Client.cs
        editor/GodotTools/GodotTools.IdeMessaging/IHandshake.cs
        editor/GodotTools/GodotTools.IdeMessaging/ClientMessageHandler.cs
        editor/GodotTools/GodotTools.IdeMessaging/GodotIdeMetadata.cs
        editor/GodotTools/GodotTools.IdeMessaging/Utils/SemaphoreExtensions.cs
        editor/GodotTools/GodotTools.IdeMessaging/Utils/NotifyAwaiter.cs
        editor/GodotTools/GodotTools.IdeMessaging/ResponseAwaiter.cs
        editor/GodotTools/GodotTools.IdeMessaging/GodotTools.IdeMessaging.csproj
        editor/GodotTools/GodotTools.IdeMessaging/IMessageHandler.cs
        editor/GodotTools/GodotTools.IdeMessaging/Requests/Requests.cs
        editor/GodotTools/GodotTools.Core/StringExtensions.cs
        editor/GodotTools/GodotTools.Core/GodotTools.Core.csproj
        editor/GodotTools/GodotTools.Core/FileUtils.cs
        editor/GodotTools/GodotTools.Core/ProcessExtensions.cs
        editor/GodotTools/GodotTools.Shared/GodotTools.Shared.csproj
        editor/GodotTools/GodotTools.Shared/GenerateGodotNupkgsVersions.targets
        editor/Godot.NET.Sdk/Godot.NET.Sdk/Godot.NET.Sdk.csproj
        editor/Godot.NET.Sdk/Godot.NET.Sdk/Sdk/Sdk.targets
        editor/Godot.NET.Sdk/Godot.NET.Sdk/Sdk/Sdk.props
        editor/Godot.NET.Sdk/Godot.NET.Sdk.sln
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/Godot.SourceGenerators.Sample.csproj
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/Generic.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/ExportedProperties.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/Bar.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/MoreExportedFields.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/Foo.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/ScriptBoilerplate.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/EventSignals.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/ExportedFields.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators.Sample/Methods.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/Godot.SourceGenerators.csproj
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptSignalsGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/GodotMemberData.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptSerializationGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/EventHandlerSuffixSuppressor.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ExtensionMethods.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/GodotEnums.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/Godot.SourceGenerators.props
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptRegistrarGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/MarshalUtils.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/PropertyInfo.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptPathAttributeGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/GodotPluginsInitializerGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/MarshalType.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptPropertiesGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/GodotClasses.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/MethodInfo.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptPropertyDefValGenerator.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/MustBeVariantAnalyzer.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/Common.cs
        editor/Godot.NET.Sdk/Godot.SourceGenerators/ScriptMethodsGenerator.cs
)

set(GODOT_MODULE_MONO_SCRIPT_TEMPLATES_CSHARP
        editor/script_templates/EditorScenePostImport/basic_import_script.cs
        editor/script_templates/EditorScenePostImport/no_comments.cs
        editor/script_templates/CharacterBody3D/basic_movement.cs
        editor/script_templates/VisualShaderNodeCustom/basic.cs
        editor/script_templates/CharacterBody2D/basic_movement.cs
        editor/script_templates/Node/default.cs
        editor/script_templates/EditorPlugin/plugin.cs
        editor/script_templates/Object/empty.cs
        editor/script_templates/SCsub
        editor/script_templates/EditorScript/basic_editor_script.cs
)

set(GODOT_MODULE_MONO_GODOTSHARP_SOURCE
        glue/GodotSharp/GodotPlugins/PluginLoadContext.cs
        glue/GodotSharp/GodotPlugins/GodotPlugins.csproj
        glue/GodotSharp/GodotPlugins/Main.cs
        glue/GodotSharp/GodotSharp/GodotSharp.csproj
        glue/GodotSharp/GodotSharp/GodotSharp.csproj.DotSettings
        glue/GodotSharp/GodotSharp/Properties/AssemblyInfo.cs
        glue/GodotSharp/GodotSharp/Core/StringName.cs
        glue/GodotSharp/GodotSharp/Core/GodotTaskScheduler.cs
        glue/GodotSharp/GodotSharp/Core/GodotObject.base.cs
        glue/GodotSharp/GodotSharp/Core/StringExtensions.cs
        glue/GodotSharp/GodotSharp/Core/CustomGCHandle.cs
        glue/GodotSharp/GodotSharp/Core/Extensions/NodeExtensions.cs
        glue/GodotSharp/GodotSharp/Core/Extensions/GodotObjectExtensions.cs
        glue/GodotSharp/GodotSharp/Core/Extensions/PackedSceneExtensions.cs
        glue/GodotSharp/GodotSharp/Core/Extensions/ResourceLoaderExtensions.cs
        glue/GodotSharp/GodotSharp/Core/MathfEx.cs
        glue/GodotSharp/GodotSharp/Core/Basis.cs
        glue/GodotSharp/GodotSharp/Core/Colors.cs
        glue/GodotSharp/GodotSharp/Core/Rect2I.cs
        glue/GodotSharp/GodotSharp/Core/GodotUnhandledExceptionEvent.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/MustBeVariantAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/ExportCategoryAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/RpcAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/GodotClassNameAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/ToolAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/ScriptPathAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/SignalAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/AssemblyHasScriptsAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/ExportGroupAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/ExportSubgroupAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Attributes/ExportAttribute.cs
        glue/GodotSharp/GodotSharp/Core/Aabb.cs
        glue/GodotSharp/GodotSharp/Core/Vector3.cs
        glue/GodotSharp/GodotSharp/Core/Vector2I.cs
        glue/GodotSharp/GodotSharp/Core/ReflectionUtils.cs
        glue/GodotSharp/GodotSharp/Core/NodePath.cs
        glue/GodotSharp/GodotSharp/Core/Dictionary.cs
        glue/GodotSharp/GodotSharp/Core/Transform2D.cs
        glue/GodotSharp/GodotSharp/Core/Vector4I.cs
        glue/GodotSharp/GodotSharp/Core/Dispatcher.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/AlcReloadCfg.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/ManagedCallbacks.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/PropertyInfo.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/ScriptManagerBridge.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/GCHandleBridge.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/CSharpInstanceBridge.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/MethodInfo.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/GodotSerializationInfo.cs
        glue/GodotSharp/GodotSharp/Core/Bridge/ScriptManagerBridge.types.cs
        glue/GodotSharp/GodotSharp/Core/Rid.cs
        glue/GodotSharp/GodotSharp/Core/GodotSynchronizationContext.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/NativeFuncs.extended.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/VariantUtils.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/VariantUtils.generic.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/InteropUtils.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/InteropStructs.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/ExceptionUtils.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/NativeVariantPtrArgs.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/CustomUnsafe.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/NativeFuncs.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/GodotDllImportResolver.cs
        glue/GodotSharp/GodotSharp/Core/NativeInterop/Marshaling.cs
        glue/GodotSharp/GodotSharp/Core/Variant.cs
        glue/GodotSharp/GodotSharp/Core/Vector4.cs
        glue/GodotSharp/GodotSharp/Core/Signal.cs
        glue/GodotSharp/GodotSharp/Core/Interfaces/IAwaiter.cs
        glue/GodotSharp/GodotSharp/Core/Interfaces/ISerializationListener.cs
        glue/GodotSharp/GodotSharp/Core/Interfaces/IAwaitable.cs
        glue/GodotSharp/GodotSharp/Core/Projection.cs
        glue/GodotSharp/GodotSharp/Core/Rect2.cs
        glue/GodotSharp/GodotSharp/Core/Vector3I.cs
        glue/GodotSharp/GodotSharp/Core/GodotObject.exceptions.cs
        glue/GodotSharp/GodotSharp/Core/DebuggingUtils.cs
        glue/GodotSharp/GodotSharp/Core/Array.cs
        glue/GodotSharp/GodotSharp/Core/GodotTraceListener.cs
        glue/GodotSharp/GodotSharp/Core/GD.cs
        glue/GodotSharp/GodotSharp/Core/DelegateUtils.cs
        glue/GodotSharp/GodotSharp/Core/Quaternion.cs
        glue/GodotSharp/GodotSharp/Core/Vector2.cs
        glue/GodotSharp/GodotSharp/Core/Callable.generics.cs
        glue/GodotSharp/GodotSharp/Core/Color.cs
        glue/GodotSharp/GodotSharp/Core/SignalAwaiter.cs
        glue/GodotSharp/GodotSharp/Core/Transform3D.cs
        glue/GodotSharp/GodotSharp/Core/Mathf.cs
        glue/GodotSharp/GodotSharp/Core/Plane.cs
        glue/GodotSharp/GodotSharp/Core/Callable.cs
        glue/GodotSharp/GodotSharp/Core/DisposablesTracker.cs
        glue/GodotSharp/GodotSharp/GlobalUsings.cs
        glue/GodotSharp/.editorconfig
        glue/GodotSharp/.gitignore
        glue/GodotSharp/Godot.SourceGenerators.Internal/Godot.SourceGenerators.Internal.csproj
        glue/GodotSharp/Godot.SourceGenerators.Internal/ExtensionMethods.cs
        glue/GodotSharp/Godot.SourceGenerators.Internal/UnmanagedCallbacksGenerator.cs
        glue/GodotSharp/Godot.SourceGenerators.Internal/GeneratorClasses.cs
        glue/GodotSharp/Godot.SourceGenerators.Internal/CallbacksInfo.cs
        glue/GodotSharp/Godot.SourceGenerators.Internal/Common.cs
        glue/GodotSharp/ExternalAnnotations/System.Runtime.InteropServices.xml
        glue/GodotSharp/GodotSharpEditor/GodotSharpEditor.csproj.DotSettings
        glue/GodotSharp/GodotSharpEditor/GodotSharpEditor.csproj
        glue/GodotSharp/GodotSharp.sln.DotSettings
        glue/GodotSharp/GodotSharp.sln
)

godot_add_library(godot-module-mono FOLDER modules STATIC ${GODOT_MODULE_MONO_SOURCE})
target_link_libraries(godot-module-mono PUBLIC godot-string godot-io godot-os godot-object)
set_property(TARGET godot-module-mono PROPERTY CXX_STANDARD 17)
